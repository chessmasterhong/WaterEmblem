/** *  button_inventory_item_use.js *  ----- */ig.module(    'game.entities.menus.button_inventory_item_use').requires(    'plugins.button.button').defines(function() {    'use strict';    ig.global.EntityButton_inventory_item_use = ig.Button.extend({        name: 'btn_inventory_item_use',        text: ['Use'],        pressedUp: function() {            ig.game.battleState = null;            // Use the item (activate item's effect)            ig.game.units[ig.game.activeUnit].item[ig.game.units[ig.game.activeUnit].selectedItemIndex].effect(ig.game.units[ig.game.activeUnit]);            // Decrement item's usage by 1 (auto-destroy item if 0 usage remaining)            ig.game.useItemDurability(ig.game.units[ig.game.activeUnit], ig.game.units[ig.game.activeUnit].selectedItemIndex);            ig.game.units[ig.game.activeUnit].selectedItemIndex = null;            ig.game.units[ig.game.activeUnit].selectedWeapon = null;            ig.game.units[ig.game.activeUnit].isEquipping = false;            ig.global.killAllButtons(ig.Button);            ig.game.menuVisible = false;        }    });});