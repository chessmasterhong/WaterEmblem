/** *  button_inventory_item_use.js *  ----- */ig.module(    'game.entities.menus.button_inventory_item_use').requires(    'plugins.button.button').defines(function() {    "use strict";    ig.global.EntityButton_inventory_item_use = Button.extend({        name: 'btn_inventory_item_use',        text: ['Use'],        pressedUp: function() {            // Use the item (activate item's effect)            ig.game.units[ig.game.activeUnit].item[ig.game.units[ig.game.activeUnit].selectedItemIndex].effect(ig.game.units[ig.game.activeUnit]);            // Decrement item's usage by 1 (auto-destroy item if 0 usage remaining)            ig.game.units[ig.game.activeUnit].item_uses[ig.game.units[ig.game.activeUnit].selectedItemIndex]--;            if(ig.game.units[ig.game.activeUnit].item_uses[ig.game.units[ig.game.activeUnit].selectedItemIndex] <= 0) {                console.log(ig.game.units[ig.game.activeUnit].item[ig.game.units[ig.game.activeUnit].selectedItemIndex].name + ' has exhausted its uses.');                ig.game.units[ig.game.activeUnit].item[ig.game.units[ig.game.activeUnit].selectedItemIndex] = null;                ig.game.units[ig.game.activeUnit].item_uses[ig.game.units[ig.game.activeUnit].selectedItemIndex] = 0;            }            ig.global.killAllButtons(Button);            ig.game.menuVisible = false;        }    });});