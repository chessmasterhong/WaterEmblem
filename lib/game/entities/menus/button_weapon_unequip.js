/** *  button_weapon_unequip.js *  ----- */ig.module(    'game.entities.menus.button_weapon_unequip').requires(    'plugins.button.button').defines(function() {    "use strict";    ig.global.EntityButton_weapon_unequip = Button.extend({        name: 'btn_weapon_equip',        text: ['Unequip'],        pressedUp: function() {            // Check for if a free slot is available for unequipping            var slot = ig.game.getFreeSlot(ig.game.units[ig.game.activeUnit])            if(slot !== null) {                console.log("Unequipping weapon");                ig.game.swapItems(ig.game.units[ig.game.activeUnit], ig.game.units[ig.game.activeUnit].selectedItemIndex, slot);                // Clear and recompute the modifiers applied through weapons                ig.game.clearMod(ig.game.units[ig.game.activeUnit]);                ig.game.recomputeStats(ig.game.units[ig.game.activeUnit]);            }            ig.game.units[ig.game.activeUnit].selectedItemIndex = null;            ig.game.units[ig.game.activeUnit].selectedWeapon = null;            ig.game.units[ig.game.activeUnit].isEquipping = false;            ig.global.killAllButtons(Button);            ig.game.menuVisible = false;        }    });});