/** *  button_weapon_equip.js *  ----- */ig.module(    'game.entities.menus.button_weapon_equip').requires(    'plugins.button.button').defines(function() {    "use strict";    ig.global.EntityButton_weapon_equip = ig.Button.extend({        name: 'btn_weapon_equip',        text: ['Equip'],        pressedUp: function() {            // Swap the item positions to put the selected item into the first position            ig.game.swapItems(ig.game.units[ig.game.activeUnit], 0, ig.game.units[ig.game.activeUnit].selectedItemIndex);            ig.game.clearMod(ig.game.units[ig.game.activeUnit]);            ig.game.recomputeStats(ig.game.units[ig.game.activeUnit]);            ig.game.units[ig.game.activeUnit].selectedItemIndex = null;            ig.game.units[ig.game.activeUnit].selectedWeapon = null;            ig.game.units[ig.game.activeUnit].isEquipping = false;            ig.global.killAllButtons(ig.Button);            ig.game.menuVisible = false;        }    });});