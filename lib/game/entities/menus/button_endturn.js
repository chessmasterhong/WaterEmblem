/** *  button_endturn.js *  ----- */ig.module(    'game.entities.menus.button_endturn').requires(    'plugins.button.button').defines(function() {    'use strict';    ig.global.EntityButton_endturn = ig.Button.extend({        name: 'btn_endturn',        text: ['End Turn'],        pressedUp: function() {            var lastPlayerUnitIndex = 0;            // Set all player's units turn to used            for(var u = 0; u < ig.game.units.length; u++) {                if(ig.game.units[u].unitType === 'player') {                    // Apply terrain bonuses                    ig.game.applyTerrainBonuses(ig.game.units[ig.game.activeUnit]);                    ig.game.units[u].turnUsed = true;                    ig.game.activeUnit = u;                }            }            ig.game.menuVisible = false;            ig.global.killAllButtons(ig.Button);        }    });});